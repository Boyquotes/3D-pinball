[gd_scene load_steps=16 format=2]

[ext_resource path="res://Materials/Background.tres" type="Material" id=1]
[ext_resource path="res://Textures/gym_entrance_1k.hdr" type="Texture" id=2]
[ext_resource path="res://Scenes/Flipper.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scripts/Start.gd" type="Script" id=5]
[ext_resource path="res://Scripts/Spawnpoint.gd" type="Script" id=6]

[sub_resource type="PanoramaSky" id=8]
panorama = ExtResource( 2 )

[sub_resource type="Environment" id=9]
background_mode = 2
background_sky = SubResource( 8 )
background_sky_orientation = Basis( 1, 0, 0, 0, 0.422618, -0.906308, 0, 0.906308, 0.422618 )
background_energy = 0.18
tonemap_mode = 4
ssao_enabled = true
ssao_radius = 0.2
ssao_intensity = 0.7
dof_blur_far_amount = 0.22

[sub_resource type="PlaneMesh" id=1]

[sub_resource type="CubeMesh" id=18]

[sub_resource type="ConcavePolygonShape" id=19]
data = PoolVector3Array( -1, 1, 1, 1, 1, 1, -1, -1, 1, 1, 1, 1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, -1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1, 1, 1, 1, 1, 1, -1, 1, -1, 1, 1, 1, -1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1, 1, 1, -1, -1, -1, -1, 1, 1, -1, -1, 1, -1, -1, -1, 1, 1, 1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1, -1, 1, 1, -1, -1, -1, 1, 1, -1, 1, -1, -1, -1, 1, -1, 1, 1, -1, -1, -1, -1, -1 )

[sub_resource type="CylinderMesh" id=12]
top_radius = 0.1
bottom_radius = 0.1
height = 0.1

[sub_resource type="CylinderShape" id=13]
radius = 0.1
height = 0.1

[sub_resource type="CubeMesh" id=15]

[sub_resource type="ConcavePolygonShape" id=16]
data = PoolVector3Array( -1, 1, 1, 1, 1, 1, -1, -1, 1, 1, 1, 1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, -1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1, 1, 1, 1, 1, 1, -1, 1, -1, 1, 1, 1, -1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1, 1, 1, -1, -1, -1, -1, 1, 1, -1, -1, 1, -1, -1, -1, 1, 1, 1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1, -1, 1, 1, -1, -1, -1, 1, 1, -1, 1, -1, -1, -1, 1, -1, 1, 1, -1, -1, -1, -1, -1 )

[sub_resource type="BoxShape" id=17]
extents = Vector3( 1.27704, 0.0868561, 1.0759 )

[node name="Spatial" type="Spatial"]
script = ExtResource( 5 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 9 )

[node name="SpotLight" type="SpotLight" parent="."]
transform = Transform( 0.968598, 0.221075, -0.113775, -0.161708, 0.90773, 0.387138, 0.188863, -0.356583, 0.914975, -0.323921, 2.06393, 1.72004 )
shadow_enabled = true
spot_range = 4.17699
spot_angle = 39.6109

[node name="OmniLight" type="OmniLight" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.63387, 2.05079, 0.406438 )
visible = false
light_color = Color( 1, 0.291872, 0.197872, 1 )
light_energy = 0.486

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.967916, -0.19571, -0.157597, 0.251275, 0.753878, 0.607066, 3.72529e-09, -0.627189, 0.778867, 1.3573, 1.81352, 0.112225 )
light_energy = 0.486
shadow_enabled = true
shadow_bias = -0.137

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 0.820721, -0.57133, 0, 0.57133, 0.820721, 0, -0.877, 2.229 )
fov = 34.5

[node name="Spawnpoint" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.405554, 1.48191, 0 )
script = ExtResource( 6 )

[node name="Background Plane" type="MeshInstance" parent="."]
transform = Transform( 0.622067, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0.03, 0.8, -0.052 )
mesh = SubResource( 1 )
material/0 = ExtResource( 1 )

[node name="MeshInstance6" type="MeshInstance" parent="."]
transform = Transform( 0.708395, 0, 0, 0, 0.0552571, 0, 0, 0, 0.0919386, 0, 1.86226, 0 )
mesh = SubResource( 18 )
skeleton = NodePath("../MeshInstance2")
material/0 = null

[node name="StaticBody" type="StaticBody" parent="MeshInstance6"]

[node name="CollisionShape" type="CollisionShape" parent="MeshInstance6/StaticBody"]
shape = SubResource( 19 )

[node name="MeshInstance3" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 1.43077, 3.41659e-08 )
mesh = SubResource( 12 )
skeleton = NodePath("")
material/0 = null

[node name="Bumper" type="StaticBody" parent="MeshInstance3"]
__meta__ = {
"_edit_group_": true
}

[node name="CollisionShape" type="CollisionShape" parent="MeshInstance3/Bumper"]
shape = SubResource( 13 )

[node name="MeshInstance2" type="MeshInstance" parent="."]
transform = Transform( 1.65097, 0, 0, 0, -7.21663e-08, -1.65097, 0, 1.65097, -7.21663e-08, -0.657375, 0.19121, -1.21212e-08 )
mesh = SubResource( 12 )
skeleton = NodePath("")
material/0 = null

[node name="Bumper2" type="StaticBody" parent="MeshInstance2"]
__meta__ = {
"_edit_group_": true
}

[node name="CollisionShape" type="CollisionShape" parent="MeshInstance2/Bumper2"]
shape = SubResource( 13 )

[node name="MeshInstance5" type="MeshInstance" parent="."]
transform = Transform( 1.65097, 0, 0, 0, -7.21663e-08, -1.65097, 0, 1.65097, -7.21663e-08, 0.659332, 0.19121, -1.21212e-08 )
mesh = SubResource( 12 )
skeleton = NodePath("")
material/0 = null

[node name="Bumper2" type="StaticBody" parent="MeshInstance5"]
__meta__ = {
"_edit_group_": true
}

[node name="CollisionShape" type="CollisionShape" parent="MeshInstance5/Bumper2"]
shape = SubResource( 13 )

[node name="MeshInstance" type="MeshInstance" parent="."]
transform = Transform( 0.0592064, 0, 0, 0, -4.1409e-09, -1, 0, 0.0947328, -4.37114e-08, -0.649798, 0.80856, 4.37114e-08 )
mesh = SubResource( 15 )
skeleton = NodePath("")
material/0 = null

[node name="StaticBody" type="StaticBody" parent="MeshInstance"]

[node name="CollisionShape" type="CollisionShape" parent="MeshInstance/StaticBody"]
shape = SubResource( 16 )

[node name="MeshInstance4" type="MeshInstance" parent="."]
transform = Transform( 0.0592064, 0, 0, 0, -4.1409e-09, -1, 0, 0.0947328, -4.37114e-08, 0.65, 0.808967, 0 )
mesh = SubResource( 15 )
skeleton = NodePath("")
material/0 = null

[node name="StaticBody" type="StaticBody" parent="MeshInstance4"]

[node name="CollisionShape" type="CollisionShape" parent="MeshInstance4/StaticBody"]
shape = SubResource( 16 )

[node name="Area_Kill" type="Area" parent="."]
transform = Transform( -3.05302e-08, 4.37114e-08, 1, 1, -4.37114e-08, 3.05302e-08, 4.37114e-08, 1, -4.37114e-08, -3.94564e-08, 1.05606, 5.64914e-08 )

[node name="CollisionShape" type="CollisionShape" parent="Area_Kill"]
transform = Transform( 1, 0, 1.64203e-15, 0, 1, 0, 1.64203e-15, 0, 1, 0, 0, 0 )
shape = SubResource( 17 )

[node name="Flipper_L" type="Spatial" parent="."]
transform = Transform( 0.906308, 0.422618, 0, -0.422618, 0.906308, 0, 0, 0, 1, -0.426557, 0.112449, 0 )

[node name="Flipper_L" parent="Flipper_L" instance=ExtResource( 4 )]
thrust_speed = 1400.0
target_rotation = 70.0
input_action_key = "flipper_left"

[node name="Flipper_R" type="Spatial" parent="."]
transform = Transform( -0.906308, -0.422618, 8.74228e-08, -0.422618, 0.906308, 0, -7.92319e-08, -3.69465e-08, -1, 0.427, 0.106, 0 )

[node name="Flipper_R" parent="Flipper_R" instance=ExtResource( 4 )]
thrust_speed = 1400.0
target_rotation = 70.0
input_action_key = "flipper_right"

[connection signal="body_entered" from="Area_Kill" to="Spawnpoint" method="_on_Area_Kill_body_entered"]
[connection signal="body_exited" from="Area_Kill" to="Spawnpoint" method="_on_Area_Kill_body_exited"]
